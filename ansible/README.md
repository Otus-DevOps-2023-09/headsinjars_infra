# Выполнено ДЗ №8

 - [+] Основное ДЗ
 

## В процессе сделано:
 - Создана ветка ansible-1
 - Выполнена установка Ansible.
 - Создан простой файл инвентори
 - Проверена работа ad hock модуля ping
 - Создан файл конфигурации - ansible.cfg, куда вынесена часть параметров из файла инвентаря.
 - Проверка работы ansible на отдельных хостах и группах хостов, задаваемых в файле инвентори.
 - Создан файл инвентаря в формате YAML
 - Проверка работы с модулями command, shell, systemd, service, apt, git
 - Выполнена проверка декларативности ansible на примере повторного выполнения модуля
 - Создан простой плейбук по клонированию git-репозитория 
 
## Как запустить проект:
 - Перейти в каталог ./terraform/stage
 - предварительно загрузить в переменные окружения статический ключ и секрет для сервисного аккаунта с доступом к s3 bucket:
 - Запустить terraform plan для проверки планируемых изменений
 - Запустить terraform apply для запуска инстансов app и db
 - Зафиксировать данные выходных переменных с "белыми" адресами инстансов
 - внести адреса в файл инвентори
 - запустить команду ansible appserver -b -m apt -a 'name=git state=present'для установки git, т.к. в образе он отсутствует.
 - запустить плейбук для клонирования репозитория: ansible-playbook clone.yml

## Как проверить работоспособность:
 - Запустить команду ansible appserver -m command -a 'ls ~/reddit'. Убедиться в наличие репозитория reddit
 - Подключиться к инстансам по внешнему адресу. Перейти в домашний каталог. Убедиться в наличие рерозитория reddit

## PR checklist
 - [+] Выставил label с номером домашнего задания
 - [+] Выставил label с темой домашнего задания
 



# Выполнено ДЗ №9

- [+] Основное ДЗ

## В процессе сделано:
 - Создана ветка ansible-2
 - Создан первый плейбук - reddit_app.yml - с jinja2 шаблоном и модулем template
 - Определены переменные для передачи в качестве параметра шаблона
 - Проверена работа handlers - запуск сценария в случае изменения состояния определенных task'ов
 - Проверена работа плейбука по tag'ам
 - Выполнен deploy приложения отдельным task'ом
 - Выполненв настройка db, app сервера и деплой приложения в рамках одного плейбука
 - Задачи по настройке DB, APP сервера и деплой приложения разнесены по разным плейбукам.
 - Проверен запуск всей инфраструктуры одним плейбуком, объединяющим 3 импортированных плейбука

## Как проверить работоспособность:
 - из каталога ./terraform/stage запустить создание инстансов: terraform apply
 - вести адреса output переменных в файл инвентаризации.
 - запустить ansible-playbook site.yml
 - подключиться по внешнему адресу инстанса приложения

## PR checklist
 - [+] Выставил label с номером домашнего задания
 - [+] Выставил label с темой домашнего задания

